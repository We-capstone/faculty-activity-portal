<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <title>Faculty Portal Test Bench</title>
    <style>
        body { font-family: sans-serif; max-width: 800px; margin: 20px auto; line-height: 1.6; }
        .section { border: 1px solid #ccc; padding: 15px; margin-bottom: 20px; border-radius: 8px; }
        input, select, textarea { display: block; margin: 10px 0; width: 100%; padding: 8px; }
        button { padding: 10px 15px; cursor: pointer; background: #24b47e; color: white; border: none; border-radius: 4px; }
        .hidden { display: none; }
        .journal-card { border-bottom: 1px solid #eee; padding: 10px 0; display: flex; justify-content: space-between; }
        .status { font-weight: bold; text-transform: uppercase; font-size: 0.8em; }
    </style>
</head>
<body>

    <h2>Academic Journal System Test</h2>

    <div id="auth-section" class="section">
        <h3>Sign Up / Login</h3>
        <input type="email" id="email" placeholder="Email">
        <input type="password" id="password" placeholder="Password">
        <div id="signup-fields">
            <input type="text" id="full_name" placeholder="Full Name">
            <input type="text" id="department" placeholder="Department">
            <select id="role">
                <option value="FACULTY">FACULTY</option>
                <option value="ADMIN">ADMIN</option>
            </select>
        </div>
        <button onclick="handleSignUp()">Sign Up</button>
        <button onclick="handleLogin()" style="background:#3b82f6">Login</button>
    </div>

    <div id="journal-section" class="section hidden">
        <div style="display:flex; justify-content: space-between;">
            <h3>Journal Management</h3>
            <button onclick="handleLogout()" style="background:#ef4444">Logout</button>
        </div>
        <p>Logged in as: <span id="user-display"></span></p>

        <h4>Add New Publication</h4>
        <input type="text" id="title" placeholder="Paper Title">
        <input type="text" id="journal_name" placeholder="Journal Name">
        <input type="text" id="indexing_details" placeholder="Indexing (Scopus, Web of Science, etc.)">
        <button onclick="createJournal()">Submit Journal</button>

        <hr>
        <h4>Records</h4>
        <button onclick="fetchJournals()">Refresh List</button>
        <div id="journal-list"></div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script type="module" src="app.js"></script>
</body>
</html>